#system-design-v2 #design-patterns #behavioral-design-pattern 

## Glossary
- The Command Pattern turns a request into a standalone object.
- So instead of calling `object.method()` to execute the request, the command pattern turns the request into an object
- This allows you to parameterize actions, queue them, log them, or support undo/redoâ€”without the invoker knowing any business logic.

**Terminologies**
Command: An object that encapsulates a request as an object.
Receiver: The actual object that knows how to perform the action.
Invoker: The object that triggers the command (e.g., button, controller).

### UML Class Diagram
![[UML Class Diagram for Command Design Pattern.png|1150]]

### Code
```java
public interface Device {
}

public class AirConditioner implements Device {
	public void turnOn() {
		System.out.println("AC Turned on...");
	}
	public void turnOff() {
		System.out.println("AC Turned off...");
	}
	public void setTemp(int temp) {
		System.out.println("AC Temp set: " + temp);
	}
}

public class Tubelight implements Device {
	public void turnOn() {
		System.out.println("Tubelight Turned on...");
	}
	public void turnOff() {
		System.out.println("Tubelight Turned off...");
	}
}

public interface ICommand {
	void execute();
}

public interface UndoCommand {
	void undo();
}

public class TurnOnAc implements ICommand, UndoCommand {

    private final Device device;

    public TurnOnAc(Device device) {
        this.device = device;
    }

    @Override
    public void execute() {
        device.turnOn();
    }

    @Override
    public void undo() {
        device.turnOff();
    }
}

public class TurnOffAc implements ICommand, UndoCommand {

    private final Device device;

    public TurnOffAc(Device device) {
        this.device = device;
    }

    @Override
    public void execute() {
        device.turnOff();
    }

    @Override
    public void undo() {
        device.turnOn();
    }
}

public class Remote {

    private final Stack<ICommand> stack = new Stack<>();

    public void pressButton(ICommand command) {
        command.execute();
        stack.push(command);
    }

    public void undo() {
        if (!stack.isEmpty()) {
            ICommand command = stack.pop();
            if (command instanceof UndoCommand undoCommand) {
                undoCommand.undo();
            }
        }
    }
}

```
