---
status: To Review
last-reviewed: 2025-08-15
tags:
  - spring-boot
  - AOP
---
#spring-boot #AOP #placement-preparation 

> ðŸ’¡ Dependency: `spring-boot-starter-aop`  
> ðŸ§© To enable AOP: Use `@EnableAspectJAutoProxy` in the main application class.

---
#### AOP
Aspect-Oriented Programming (AOP) is a programming paradigm that increases modularity by separating cross-cutting concerns from core business logic.

Examples of cross-cutting concerns:
- Logging
- Security
- Transaction management

AOP allows you to modularize such logic using aspects without modifying the actual business code.
#### Components of AOP
---
##### ðŸ“Œ Aspect â€“ What to do? 
- An Aspect is a class that contains cross-cutting logic such as logging, security, auditing, etc.
- It is annotated with `@Aspect` and typically also with `@Component` to be picked up by Spring.
- Inside the aspect, you define one or more Advice methods.

> ðŸ§  Think of it as a _container_ of actions (advices) you want to apply at various points in your application.
---
##### ðŸŽ¯ Pointcut â€“ Where to inject?
Where to inject the aspects is represented by pointcuts. 
Pointcuts define the criteria (expressions) to match join points.

There are 3 types - 
- `execution` â†’  method execution.  
    _Example:_ `execution(* com.example.service.*.*(..))
    
- `@annotation(...)` â†’ methods annotated with a specific annotation
	*Example*:  `@annotation(com.fundwise.investgraph.aspect.TrackExecution)
	`
- `within` â†’ all join points within a given type or package.  
    _Example:_ `within(com.example.service.*)`
    
- `call` â†’ method call (used rarely in Spring AOP; more common in AspectJ).  
    _Example:_ `call(* java.util.List+.*(..))`

>ðŸ” Think of Pointcut as a filter or a rule that says â€œintercept all methods in this packageâ€, or â€œonly methods with this annotationâ€
---
##### ðŸ§¾ Advice â€” How to do?
- Advice is the actual action that runs at the matched join point.
- It is a method inside an Aspect class, annotated with `@Before`, `@After`, `@Around`, etc.
- Advice works together with Pointcuts â€” the pointcut selects where, and the method annotated with advice defines what to do there.

###### ðŸ›  Types of Advice:
- `@Before` â†’ Runs before the method
- `@Around` â†’ Runs before and after the method (can even skip or modify execution)
- `@After` â†’ Runs after the method (regardless of outcome)
- `@AfterReturning` â†’ Runs after method returns successfully
- `@AfterThrowing` â†’ Runs when method throws an exception
---
##### â±ï¸ JoinPoint â€“ When to inject?
- A JoinPoint is a specific point in the execution of the program where an aspect can be applied. Examples: method call, method return, exception thrown, etc.
- In Spring AOP, join points are always method executions (unlike AspectJ which supports more).
- You donâ€™t define JoinPoints manually â€” theyâ€™re determined ***at runtime*** when matched by a Pointcut.

> JoinPoint is definable only at runtime, when the method is actually called
> Example: A method `saveUser()` in `UserService` annotated with `@TrackExecution` â€” this exact call becomes a joinpoint

The `JoinPoint` object is available as a parameter in advice methods and gives access to:
- Method name
- Target object
- Method arguments
- Return value (in `@AfterReturning`)

---
##### Example
![[Spring Boot|Spring Boot AOP|1550]]

---